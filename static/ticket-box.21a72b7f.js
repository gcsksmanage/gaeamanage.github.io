import{d as V,r as m,e as p,t as D,o as d,c as v,f as s,w as n,u as t,g as y,v as x,x as I,y as N,h,k as R,j as A,l as L,m as j,z as q,A as z,C as G,_ as M}from"./entry.26104e05.js";/* empty css                        *//* empty css                 */import{t as O}from"./throttle.fca0157a.js";/* empty css                  *//* empty css                 *//* empty css                     *//* empty css                   */import{u as P}from"./adminManage.10f0bc3e.js";import"./request.7b61c121.js";const S={class:"text-[#EBEBEB] pt-10 px-5"},U={class:"cursor-pointer hover:text-[#ebebeb]"},$=V({__name:"ticket-box",setup(H){const k=m(!1),l=m(!1),_=p({content:[]}),f=m(),w=p({number:[{required:!0,message:"请输入票盒数量",trigger:"blur"}]}),i=p({number:null}),B=e=>{e&&e.resetFields()},E=async e=>{e&&(l.value||await e.validate(async(o,b)=>{if(o)try{l.value=!0;const r=await P({number:i.number});r.code===200?(h.success({message:"创建成功",grouping:!0,type:"success"}),_.content=r.msg.map(([c,u])=>({cdkey:c,numberOfTimes:u}))):h.error({message:r.msg,grouping:!0,type:"error"})}catch{}finally{l.value=!1,B(e)}}))};return(e,o)=>{const b=R,r=A,c=L,u=j,g=q,T=z,C=D("copy"),F=G;return d(),v("div",S,[s(u,{ref_key:"ruleFormRef",ref:f,inline:!0,"label-position":"right","label-width":"90px",model:t(i),rules:t(w),class:"flex w-fit"},{default:n(()=>[s(r,{label:"票盒数:",prop:"number"},{default:n(()=>[s(b,{min:1,max:200,style:{width:"240px"},"controls-position":"right",modelValue:t(i).number,"onUpdate:modelValue":o[0]||(o[0]=a=>t(i).number=a),placeholder:"请输入需要创建的票盒数量",clearable:""},null,8,["modelValue"])]),_:1}),s(c,{class:"w-[20%]",type:"success",loading:t(l),onClick:o[1]||(o[1]=a=>("throttle"in e?e.throttle:t(O))(()=>{E(t(f))}))},{default:n(()=>[y(" 创建 ")]),_:1},8,["loading"])]),_:1},8,["model","rules"]),x((d(),I(T,{ref:"multipleTableRef",height:"650px",data:t(_).content,border:""},{default:n(()=>[s(g,{prop:"cdkey",label:"cdkey",align:"center"},{default:n(a=>[x((d(),v("div",U,[y(N(a.row.cdkey),1)])),[[C,a.row.cdkey]])]),_:1}),s(g,{prop:"numberOfTimes",label:"次数",align:"center"})]),_:1},8,["data"])),[[F,t(k)]])])}}});const re=M($,[["__scopeId","data-v-3814dc32"]]);export{re as default};
